<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Rock, Paper, Scissors</title>
	</head>
	<body>
		<h1>Rock, Paper, Scissors</h1>

 <div class="game">
  <div class="moves">
   <button class="rock" onclick="play(rock)">Rock</button>
   <button class="paper" onclick="play(paper)">Paper</button>
   <button class="scissors" onclick="play(scissors)">Scissors</button>
  </div>
  <div class="result">
   <p id="your-move-message" style="visibility: hidden">Your move: <span id="your-move"></span></p>
   <p id="opponent-move-message" style="visibility: hidden">Opponent move: <span id="opponent-move"></span><p>
   <p id="result-message"></p>
  </div>
 </div>

	</body>
	<script type="text/javascript">
  var rock = "rock"
  var paper = "paper"
  var scissors = "scissors"

  var moves = [rock, paper, scissors]

  var wins = {
   rock: scissors,
   paper: rock,
   scissors: paper,
  }

  var playerWins = "You win!"
  var opponentWins = "You loose :("
  var tie = "It's a tie!"
  var error = "Unknown move"

  function play(move) {
   var iaMove = chooseRandomElement(moves)
   var result = getResult(move, iaMove)

   document.getElementById("your-move").innerHTML = move
   document.getElementById("your-move-message").style["visibility"] = "visible"
   document.getElementById("opponent-move").innerHTML = iaMove
   document.getElementById("opponent-move-message").style["visibility"] = "visible"
   document.getElementById("result-message").innerHTML = result
  }

  function getResult(playerMove, opponentMove) {
   if (wins[playerMove] == opponentMove) {
    return playerWins
   } else if (playerMove == wins[opponentMove]) {
    return opponentWins
   } else if (playerMove == opponentMove) {
    return tie
   } else {
    return error
   }
  }

  function chooseRandomElement(array) {
   return array[Math.floor(Math.random() * array.length)]
  }
	</script>
</html>
